<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dhruv Marulkar - Retro Terminal Portfolio</title>
  <style>
    body {
      background: black;
      color: #00ff00;
      font-family: "Courier New", monospace;
      margin: 0;
      padding: 20px;
      text-align: center;
      user-select: none;
    }

    .cursor::after {
      content: "_";
      animation: blink 1s infinite;
    }

    @keyframes blink {
      0%, 50% { opacity: 1; }
      51%, 100% { opacity: 0; }
    }

    .window {
      border: 2px solid #00ff00;
      margin: 20px auto;
      padding: 15px;
      max-width: 800px;
    }

    .titlebar {
      border-bottom: 2px solid #00ff00;
      padding: 3px 6px;
      font-weight: bold;
      background: black;
      text-align: left;
    }

    h1 {
      margin: 10px 0;
      color: #00ff00;
    }

    blockquote {
      border-left: 2px solid #00ff00;
      padding-left: 10px;
      color: #00ff00;
      font-style: italic;
      max-width: 600px;
      margin: 20px auto;
    }

    .contact-buttons a {
      display: inline-block;
      margin: 5px;
      padding: 5px 10px;
      border: 1px solid #00ff00;
      color: #00ff00;
      text-decoration: none;
      font-weight: bold;
      transition: background 0.3s, color 0.3s;
    }

    .contact-buttons a:hover {
      background: #00ff00;
      color: black;
    }

    .skills {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 10px;
      margin-top: 15px;
    }

    .card {
      border: 1px solid #00ff00;
      padding: 10px;
      text-align: center;
      user-select: none;
    }

    /* Globe Container */
    #globe {
      width: 100%;
      max-width: 400px; /* works for desktop */
      margin: 20px auto;
      filter:
        drop-shadow(0 0 6px #00ff00)
        drop-shadow(0 0 12px #00ff00);
    }

    svg {
      width: 100%;
      height: auto; /* keeps square aspect ratio */
    }

    .land {
      fill: rgba(0, 255, 0, 0.08);
      stroke: #00ff00;
      stroke-width: 0.6;
    }

    .graticule {
      fill: none;
      stroke: #00ff00;
      stroke-opacity: 0.5;
      stroke-width: 0.5;
    }
  </style>
</head>
<body>

  <!-- Profile Window -->
  <div class="window">
    <div class="titlebar">PORTFOLIO</div>
    <h1>Dhruv Marulkar<span class="cursor"></span></h1>

    <!-- Responsive Globe -->
    <div id="globe"></div>

    <section class="[about-me]">
      <h2>[About Me]</h2>
      <p>
        I am part code wrangler , part chaos navigator<br>
        with ADHD as my rocket fuel and ALEXITHYMIA as my compass ,  
        I see the world sideways , upside down , and sometimes in glitch mode.<br>
        That means I build things that feel a little unexpected ,  
        and turn problems into playgrounds.<br>
      </p>
    </section>

    <blockquote>
      “Kids who have never seen peace and kids who have never seen war have different values”
    </blockquote>

    <div class="contact-buttons">
      <a href="https://github.com/DhruvMarulkar" target="_blank" rel="noopener noreferrer">[GitHub]</a>
      <a href="https://t.me/DhruvMarulkar" target="_blank" rel="noopener noreferrer">[Telegram]</a>
      <a href="mailto:marulkardhruv21@gmail.com">[Mail]</a>
      <a href="https://www.linkedin.com/in/dhruv-marulkar-995389331/">[LinkedIn]</a>
    </div>
  </div>

  <!-- D3.js + Globe -->
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="https://d3js.org/topojson.v3.min.js"></script>
  <script>
    const container = document.getElementById("globe");

    function renderGlobe() {
      // Clear any previous globe before re-render
      d3.select("#globe").selectAll("*").remove();

      let width = container.clientWidth;
      let height = width; // square globe

      const svg = d3.select("#globe").append("svg")
        .attr("viewBox", `0 0 ${width} ${height}`)
        .attr("preserveAspectRatio", "xMidYMid meet");

      let projection = d3.geoOrthographic()
        .scale(width / 2.2)
        .translate([width / 2, height / 2])
        .clipAngle(90);

      let path = d3.geoPath().projection(projection);

      const graticule = d3.geoGraticule10();
      svg.append("path")
        .datum(graticule)
        .attr("class", "graticule")
        .attr("d", path);

      d3.json("https://cdn.jsdelivr.net/npm/world-atlas@2/countries-110m.json").then(world => {
        const countries = topojson.feature(world, world.objects.countries);

        svg.append("g")
          .selectAll("path")
          .data(countries.features)
          .join("path")
          .attr("class", "land")
          .attr("d", path);

        // Rotation animation
        d3.timer(function(elapsed) {
          projection.rotate([elapsed * 0.02, -15]);
          svg.selectAll("path").attr("d", path);
        });
      });
    }

    // Initial render
    renderGlobe();

    // Re-render on resize (desktop <-> mobile)
    window.addEventListener("resize", renderGlobe);
  </script>
</body>
</html>

